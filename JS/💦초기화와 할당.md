# 💦초기화와 할당

---

```javascript
let foo    // a를 선언과 동시에 undefined로 초기화 했다.
let a = 10    // a를 선언과 동시에 10으로 초기화 했다.
a = 20    // a에 20을 할당했다.
```

초기화는 메모리 할당과 동시에 값을 넣을 때를 말하고, 할당은 이미 메모리에 값이 있는데 이 값을 다른 값으로 바꾸는 것을 의미한다. 

---

이 내용을 정리하게 된 이유는 기존에 var, let, const 모두 호이스팅 되지만 선언 이전에 접근 할 수 있는 키워드는 var만 인 것으로 알고 있었다. 그 이유는 var만이 선언과 동시에 (undefined로)초기화 되기 때문이다.

그렇다면, 만약 `const a = 10` 과 같은 코드가 있다면 이 코드도 선언과 동시에 초기화가 되었으니까 접근할 수 있어야 하는거 아닌가? 라는 생각이 들었다.

결론적으로는 내 생각이 틀렸다. *"var만이 선언과 동시에 (undefined로)초기화 되기 때문이다."* 에서 말하는 선언은 일반적인 선언과는 다른 선언이기 때문이다. 

```javascript
console.log(a)    // undefined
console.log(b)    // Reference Error
console.log(c)    // Reference Error

var a = 1
let b = 2
const c = 3
```

이 코드를 호이스팅 된 코드로 바꿔보자.

```javascript
var a
let b
const c

console.log(a)
console.log(b)
console.log(c)

a = 1
b = 2
c = 3
```

자바스크립트 엔진에 의해 런타임 이전에 이런 식의 모습으로 바뀔 것이다. (실제로 이렇게 선언부의 코드가 위로 올라가는 것은 아니다. 일반적으로 인간은 코드가 위에서 아래로 흐른다고 생각하기 때문에 보다 더 쉽고 편한 이해를 위해 선언부를 위에 둔 것이지 실제로는 선언부를 위한 메모리 공간이 따로 있는 모양이다.)

 *"var만이 선언과 동시에 (undefined로)초기화 되기 때문이다."*  에서 말하는 선언이란 !!! 실제 프로그래머가 작성한 코드에서의 선언 부분이 아니라 자바스크립트 엔진에 의해 런타임 이전에 위로 올라가게 되는 선언부를 말하는 것이다. 즉, var만이 자바스크립트 엔진에 의해 런타임 이전에 위로 올라가게 되는 선언과 동시에 (undefined로) 초기화 되는 것이기 때문에 다음과 같은 코드가 된다고 생각하는 것이 이해하기 쉽다.

```javascript
var a = undefined
let b
const c

console.log(a)
console.log(b)
console.log(c)

a = 1
b = 2
c = 3
```

때문에,  `const foo = 1`과 같은 코드도 선언과 동시에 초기화 되었음에도 불구하고 실제 선언 이전에 접근이 불가능한 것이다.

**결국, "var은 왜 선언 이전에  접근했을 때 undefined라는 값을 반환하나요?" 라는 질문이 들어왔을 때 단순히 "var은 선언과 동시에 undefined로 초기화되기 때문입니다." 라고만 대답하기 보다는 "var은 호이스팅이라는 가상의 개념을 통해 만들어진 선언부에서 선언과 동시에 undefined로 초기화되기 때문입니다." 라고 대답하는 것이 훨씬 더 정확하고 헷갈리지 않는 설명이지 않을까 싶다.**